# This migration links the newly created media entities with entity reference field on the target bundle.

id: oira_taxonomy_promotional_material_type_media_images_2
label: 'promotional_material_type: Media Images Mapping'
migration_group: oira_migrate_media

source:
  key: migrate
  plugin: d7_taxonomy_term
  taxonomy_type: promotional_material_type

destination:
  plugin: entity:taxonomy

process:
  nid: nid
  changed: changed
  title: title
  type:
    plugin: default_value
    default_value: promotional_material_type

  field_image:     # Field of taxonomy/tax   , no field in to media.
    plugin: file_id_lookup
    source: field_image
    migration: oira_taxonomy_promotional_material_type_media_images_1
    no_stub: true

dependencies:
  module:
    - custom_migrations

migration_dependencies:
  optional:
    - oira_taxonomy_promotional_material_type
    - oira_taxonomy_promotional_material_type_media_images_1
